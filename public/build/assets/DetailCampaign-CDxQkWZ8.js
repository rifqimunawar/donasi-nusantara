import{r as x,j as s,d as h,a as j}from"./app-BEtzUP9J.js";import{N as p}from"./NavbarComponent-CzayJzYa.js";function u({campaign:e}){const[a,t]=x.useState(!1),l=()=>{t(!0)},n=()=>{t(!1)},c=`https://donasi-nusantara.my.id/campaign/${e.id}/detail`,i=`https://api.whatsapp.com/send?text=${encodeURIComponent(`${e.title} ${c}`)}`;return s.jsxs("div",{className:"fixed bottom-1 w-full container",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-3 mx-auto max-w-screen-sm",children:[s.jsx("div",{className:"col-span-1",children:s.jsxs("button",{className:"btn btn-primary w-full",onClick:l,children:[s.jsx("i",{className:"bi bi-share"}),"Share"]})}),s.jsx("div",{className:"col-span-2",children:s.jsx(h,{href:`/create/${e.id}/donasi`,className:"btn btn-primary w-full",children:"Donasi Sekarang"})})]}),a&&s.jsx("div",{children:s.jsx("dialog",{id:"my_modal_1",className:"modal",open:!0,children:s.jsxs("div",{className:"modal-box",children:[s.jsx("h3",{className:"font-bold text-lg",children:"Bagikan Melalui"}),s.jsx("div",{className:"grid grid-cols-4",children:s.jsx(h,{href:i,children:s.jsxs("div",{className:"col-span-1 text-center",children:[s.jsx("img",{src:"https://donasi-nusantara.my.id/img/wa.png",alt:"wa",className:"mx-auto"}),s.jsx("p",{className:"mx-auto",children:"WhatsApp"})]})})}),s.jsx("div",{className:"modal-action",children:s.jsx("button",{className:"btn",onClick:n,children:"Close"})})]})})})]})}function N({donatur:e}){const a=Number(e.nominal).toLocaleString("id-ID"),t=l=>{const n=new Date,c=new Date(l),i=Math.abs(n-c)/1e3,d={tahun:31536e3,bulan:2592e3,minggu:604800,hari:86400,jam:3600,menit:60,detik:1};for(let[r,m]of Object.entries(d)){const o=Math.floor(i/m);if(o>0)return`${o} ${r} yang lalu`}return"Baru saja"};return s.jsx("div",{className:"bg-base-100 mb-2 rounded-xl",children:s.jsxs("div",{className:"grid grid-cols-4",children:[s.jsx("div",{className:"col-span-1 flex justify-center items-center",children:s.jsx("img",{src:"https://kitabisa.com/_next/image?url=https%3A%2F%2Fassets.kitabisa.cc%2Fimages%2Ficons%2Ficon_anonymous-user.png&w=64&q=75"})}),s.jsxs("div",{className:"col-span-3",children:[s.jsx("p",{children:e.name}),s.jsxs("p",{children:["berdonasi sebesar Rp: ",a," "]}),s.jsx("p",{children:t(e.created_at)})]})]})})}function g({campaign:e,donaturs:a}){const[t,l]=x.useState(""),n=Number(e.price).toLocaleString("id-ID"),c=Number(e.collected).toLocaleString("id-ID"),i=a.length;return console.log(a),x.useEffect(()=>{(()=>{const r=e.collected,m=e.price,o=r/m*100;l(o)})()},[e]),s.jsx("section",{className:"my-0 mx-auto min-h-full max-w-screen-sm",children:s.jsxs("div",{className:"my-0 mx-auto min-h-screen max-w-480 overflow-x-hidden pb-[66px]",children:[s.jsx("div",{children:s.jsx(p,{})}),s.jsx(j,{title:"Detail"}),s.jsx("div",{className:"mt-5",children:s.jsx("img",{src:e.img,className:"w-full h-60 object-cover"})}),s.jsxs("div",{className:"m-5",children:[s.jsx("p",{className:"text-2xl text-wrap",children:e.title}),s.jsxs("p",{className:"text-xl",children:["Rp : ",n]}),s.jsxs("p",{children:["Sudah terkumpul Rp : ",c]}),s.jsx("progress",{className:"progress progress-info ",value:t,max:"100"})]}),s.jsxs("div",{className:"mt-4 ml-5 mr-5 grid grid-cols-2 gap-3 text-sm",children:[s.jsx("button",{className:"btn btn-primary",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsxs("div",{className:"mb-1.5 mt-1.5 flex items-center",children:[s.jsx("div",{className:"h-5 w-5",children:s.jsx("i",{className:"bi bi-suit-heart-fill"})})," ",s.jsxs("p",{children:[" ",i]})]}),s.jsx("p",{children:"Donasi"})]})}),s.jsx(h,{href:`/rincian/${e.id}`,className:"btn btn-primary",children:s.jsx("button",{children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsxs("div",{className:"mb-1.5 mt-1.5 flex items-center",children:[s.jsx("div",{className:"h-5 w-5",children:s.jsx("i",{className:"bi bi-cash-coin"})})," ",s.jsx("p",{children:" "})]}),s.jsx("p",{children:"Rincian Dana"})]})})})]}),s.jsx("div",{className:"heading m-5 mt-7 text-xl",children:s.jsx("p",{children:"Kisah Penggalang Dana"})}),s.jsx("div",{className:"m-5 mt-7 text-l text-justify",children:s.jsx("p",{dangerouslySetInnerHTML:{__html:e.description}})}),s.jsxs("div",{className:"m-5 mt-7 ",children:[s.jsx("p",{className:"text-xl mb-3",children:"Para Donatur"}),a.map((d,r)=>s.jsx(N,{donatur:d},r))]}),s.jsx("div",{className:"btm-center",children:s.jsx(u,{campaign:e})})]})})}export{g as default};
